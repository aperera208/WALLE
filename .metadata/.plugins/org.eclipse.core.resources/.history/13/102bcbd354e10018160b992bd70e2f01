/*
 * LCDLib.c
 */

#include "LCD.h"
#include "msp.h"
#include "driverlib.h"
#include "AsciiLib.h"
#include "BSP.h"

const uint16_t walle3[3600] = {65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65502,61277,63389,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61277,44373,38034,31694,27468,25291,18952,25290,48403,33677,33807,50712,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50647,14726,16838,12677,6339,8451,16839,25291,23112,29386,16773,16903,21065,23178,35856,50647,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,18951,25225,31628,8451,4161,6274,10500,21064,25290,16773,25290,18951,10500,10500,12548,16839,21064,42194,63324,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50711,18951,40015,29515,6274,8387,8386,6273,14725,18951,16772,25289,12613,6274,8387,8387,12613,25289,20998,42063,61211,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,44307,27338,40080,29516,10499,12548,10500,6338,12612,16773,20998,18950,10499,10499,6274,4161,10500,33677,25225,31562,40015,59098,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,46420,29385,46289,37968,16838,8386,8386,12612,12612,12547,23111,18886,10564,8387,8387,8387,14726,35921,29515,25224,37837,61211,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,57050,23112,35725,37902,37968,27338,18886,14725,10498,10499,18822,20999,14725,8387,6274,10500,27403,42258,33741,23112,35790,65438,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,44308,18887,23111,29450,25225,16773,16838,33807,31630,52759,31565,14725,16838,25290,33742,42128,42194,33677,23112,33677,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,57051,46421,44308,44307,48534,59164,65535,54873,37903,25160,16643,23046,27337,31629,31499,35790,23111,20999,50711,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63389,25160,18691,29254,33480,40015,33742,29452,29451,33677,52759,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,48533,20738,27142,35592,39884,65438,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,61276,61212,63325,65502,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,44242,22851,31303,37706,56920,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,63390,42259,50646,59033,44242,44307,61211,63259,65437,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,42129,25029,29254,35528,56919,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65503,52823,54806,59033,48402,46289,52562,50384,54740,59097,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,37838,20802,25028,33350,42062,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,61212,52694,54871,56984,54676,46224,54675,54609,52497,48402,63389,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50581,27141,31237,35462,22981,50646,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,50581,42064,44177,52694,48402,50515,61080,46224,39949,37902,65502,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59033,31367,22850,16577,35529,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65502,52693,50515,42064,27338,27338,33676,39951,39951,33677,27338,59099,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,33612,14530,25028,41737,52561,63324,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,61275,54872,54807,35790,33676,25224,20933,18821,27338,21064,44241,65502,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,59098,52694,44241,31564,16772,18820,25029,31431,33351,41932,52759,56986,59098,61211,56920,52693,52695,54937,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65503,56986,44307,48468,46354,50515,50515,42128,29451,29386,48532,65535,65535,65535,65535,65535,65535,65535,65503,61212,54872,48467,42062,37770,31367,27141,25093,23045,25158,16706,18756,12546,27077,37640,20867,27206,35658,33546,29320,31499,33611,37900,42193,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,63390,50712,33743,27338,35790,54807,50582,18886,37837,61211,65535,65535,65438,57051,52760,46354,42062,41931,43978,43978,46025,48137,46025,41865,41865,46026,48204,41930,35656,31432,37771,44044,44109,39948,42062,42061,42125,48272,56721,63058,42061,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65503,52825,40082,59164,65535,31564,27207,41998,61211,65535,50712,23178,18951,21063,35790,40014,39950,39885,48272,52496,50448,48334,48333,52559,54671,56785,56849,48464,46288,44111,42061,50511,56784,58898,56722,52497,46223,52560,44174,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,44242,18820,35658,41998,65436,65535,46486,8386,12612,23113,23177,23113,25161,29452,31565,35791,27338,16838,14726,14726,18952,25291,37904,50580,48401,56784,63058,54609,39884,35659,20934,18951,31497,44108,56985,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,33678,18885,25159,37641,61079,65535,54938,12677,14724,21063,12612,12677,14724,18885,18950,18950,23112,23112,10500,10499,12546,16772,50580,48337,44045,39885,29321,25159,23111,27338,29451,23178,33610,54606,39949,65502,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,25225,16643,20932,41800,60944,65535,59099,18887,14725,25225,14725,10500,12612,25223,18948,14724,18951,21064,16774,16773,20999,25224,33612,20934,23047,25225,27403,29451,25289,23111,25095,29322,48270,56590,39688,56920,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50646,20868,27205,39752,56587,65301,61277,16904,14725,23177,18886,20999,23177,21063,33739,44239,25224,21000,14725,18886,27338,29450,31563,31499,29452,27337,23048,27207,31368,41866,52366,50252,50188,52235,48009,44111,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,37902,29253,35526,48135,54538,61146,18952,10499,25225,29451,54742,63258,56984,56919,61145,52693,21000,14725,18886,25225,29450,35789,27337,20998,27144,35594,50317,54540,56587,56523,50185,52170,56396,43847,39755,65438,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59098,29254,29252,37638,45959,44109,20935,16774,35791,35790,50515,63193,56920,27339,27403,35791,25290,20999,14660,18886,18822,35790,31498,44046,52364,58637,62862,62861,60811,60748,52299,52299,56525,37639,33416,61211,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,42128,25092,31364,35526,29253,25094,35724,35790,25225,20998,25224,21000,14661,29452,31629,35790,29385,18820,14660,12547,23047,27337,46157,54477,58637,54347,54476,54475,56588,46025,37640,50252,33414,22917,56920,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63324,27207,29188,27140,25028,29255,35659,25159,25225,35725,35724,25095,20934,37838,23048,37838,31431,29320,35659,39884,29254,27337,44044,58768,60751,56524,56588,54475,54410,46024,37575,39559,31302,18756,54806,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,46356,22916,27141,29254,29190,33480,27272,42064,61081,54676,46159,44111,39951,27273,46289,41931,24964,29254,46092,48270,29384,46092,65535,65535,65101,65101,62990,62861,56523,50187,47945,29125,14595,50644,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,35790,18820,25093,27141,31433,31499,46355,61145,54741,52563,50450,50515,29451,27336,46157,46093,39818,31431,41998,37966,41865,65166,65100,65099,62988,62989,62860,58635,56460,49993,35399,12482,50646,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65502,50646,37837,25029,33548,31564,35790,33677,25225,21064,16773,20998,33611,27206,22980,35593,44109,35722,42063,59097,37771,58766,65100,62987,62990,60878,60747,58636,54411,50057,43720,33416,59097,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,52629,29189,33546,23111,23046,20934,18756,25095,23046,27206,33478,35527,25093,18755,50449,39949,40015,59097,31498,44174,61010,60879,62861,60684,60684,43977,25093,29385,27206,33545,40015,48534,52760,61212,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61277,27337,31301,35528,27206,31367,33480,20868,20933,31367,35527,35525,35526,29254,20868,46225,37837,35854,59097,33675,42128,59032,41932,56590,52299,37640,27272,21064,21065,25290,25289,18950,23113,18951,23177,50711,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,25355,14659,27141,35527,33414,35527,35528,25094,25093,29254,33479,33478,33478,33414,25029,22917,29319,37837,63322,33675,42062,61015,35593,52431,39754,22982,21000,21064,23048,23113,18887,21000,18951,27338,12483,27403,65502,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,40081,10499,12546,25029,31301,33413,33478,33480,31368,35527,33413,33414,33414,33478,33414,22915,20803,37575,35592,46288,35723,42128,58966,41800,48009,48139,37705,25160,16839,23113,23177,21064,23113,25290,20999,16773,16838,57050,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59163,16838,10499,10499,22981,27077,31366,31430,22981,22981,25093,29254,31367,29254,29254,27141,20868,14595,33479,39688,20868,25095,39821,58966,43913,39752,25223,31431,25159,21130,25290,21000,21064,20999,18951,23112,21000,8386,42258,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,33807,10499,12612,12547,18756,20868,25093,31367,25029,22981,20869,20868,25094,22981,22980,22916,22982,12547,18820,23045,16708,10434,18756,37836,46027,41866,29384,23111,23112,18952,21064,18951,18951,23113,18951,12548,10500,8386,27339,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,54937,14661,10499,12612,12612,12483,12547,14595,18820,22981,22981,25029,22916,22917,20868,16708,20870,25160,12547,14661,14726,14659,14660,14724,16708,29191,45834,35400,20999,16839,23112,21064,21000,23177,23177,10435,6274,10499,8386,16774,57051,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,29516,10499,12612,12612,12547,10499,10499,12548,8322,8322,10434,12483,12483,14595,12483,10435,12484,14596,10435,14661,14726,18755,18820,10499,10435,12547,20868,35464,25160,25290,25224,18951,21064,21064,20999,10499,16838,29451,25225,10435,40082,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59099,14726,12612,12612,12612,12548,12548,10499,10499,8387,6273,8387,6274,8323,8387,8387,8386,8387,8387,8386,12612,12612,10499,10499,6273,8387,10499,16838,23112,23112,21064,20999,23112,18887,25226,14725,16838,29385,33676,23112,16838,25226,65502,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,42260,10499,14660,14725,12612,12612,12548,12612,10499,10499,8386,10500,8387,10500,10500,10500,8387,10500,10499,10500,12548,10500,8386,6274,8386,6273,10499,16838,18950,20999,23112,20999,21064,27339,20999,14725,23112,33611,37902,18886,18886,18951,61277,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,46421,10500,12612,12548,10500,12548,10499,10500,10499,10499,10499,8387,8387,10435,10435,10500,10499,4161,21129,57051,54873,52825,31630,6274,8387,10435,14725,18951,23177,23112,21064,23112,18951,18951,20935,18886,23177,31564,37902,31564,25161,18951,59099,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,52760,10499,12547,12548,12612,12548,10499,8387,10499,10499,10499,10499,8387,8386,6273,6274,4161,12613,54937,65535,65535,65535,63325,16839,6209,14725,21000,18951,21063,21064,21064,20999,21064,23241,27273,27273,18886,29516,29451,27337,27273,25225,61277,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,35856,8451,10499,12548,12548,8322,6274,8387,6274,6274,6274,4162,4161,6274,14726,31631,59099,65535,65535,65535,65535,65535,52825,16839,16838,18951,20999,23177,25225,25290,21064,21063,20998,27208,23047,16838,25290,27338,18886,25160,23177,63325,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,48599,18952,8386,8387,8387,6338,6274,4225,6274,10500,18952,35921,54873,63390,65535,65535,65535,65535,65535,65535,65535,65535,54873,23177,20999,23112,23176,23112,21063,18886,25225,27273,31434,23046,14725,21000,18886,20999,20934,31630,65503,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,42260,23243,14790,14791,21065,33743,48598,59164,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,44307,16838,16838,23111,25224,23112,20999,23112,23112,18886,27272,25224,14660,14725,14725,23113,18886,40082,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29517,14660,18886,20934,18886,20999,18821,20934,23112,20999,20934,25159,23047,12548,18952,23113,16773,52825,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,33743,14661,16773,18821,16708,18821,16773,20935,23112,20935,20998,20998,18821,10499,16774,12613,25226,65503,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,27403,14660,16773,16709,16773,18886,14660,16773,20999,20934,23047,18822,16774,16838,12613,16839,54873,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,33743,8387,14660,14660,14660,14725,12547,14725,16838,16708,16709,16774,16774,10500,27404,57051,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56986,14726,6274,10499,10499,12548,12548,14661,16773,14725,18951,12613,14726,42260,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61212,29517,12612,8322,6209,6274,10435,14661,12612,10500,25291,59164,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61277,50712,38034,25356,16904,14791,23243,44373,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,63390,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                               65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535


};

const uint16_t walle2[3600] = {65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,
                               63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65504,65503,65503,65535,65503,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,65438,65438,63389,61276,61212,61276,65503,65535,65503,65535,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,65503,65438,59098,50581,42129,29516,20999,20999,20999,27403,33742,42194,52824,59163,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65535,65503,54807,42064,31563,21063,14725,18951,31629,25289,8386,25289,25225,14726,10564,16838,23177,33742,61277,65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,63390,50646,35725,25159,29386,29451,8452,8387,8388,16838,27338,12611,25290,14790,8387,8387,8451,33677,25225,33742,65535,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,65503,63325,21064,16773,25224,48467,31628,6274,4161,8387,10500,16838,20998,16838,10500,4225,10435,8387,37968,40080,23177,61277,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,65503,33743,12547,29450,48467,40080,12677,8387,6339,14725,12612,18821,12547,18950,10500,6339,16838,46484,48533,25290,61277,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,37968,8386,25225,50516,52628,37967,27402,23177,25290,31629,18886,10500,14724,21064,33677,44242,50581,44306,29516,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63455,63389,31629,14725,31499,37773,44176,37838,23112,25159,35725,56985,57051,31629,20999,29450,35724,31563,31628,52825,65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65535,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65438,50647,37968,35856,42129,35790,14594,18755,25028,41868,63390,65535,61277,56986,56986,54938,63325,65535,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65535,65535,65535,65535,63390,35790,16707,25029,39688,59033,65535,65503,65503,65535,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65535,59099,16708,18756,35527,56854,65504,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65535,65503,65503,65535,65503,65503,65503,63390,65503,65503,65503,65535,65503,65503,65503,63390,65503,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,65503,65535,65503,65503,65535,65503,65535,65438,46225,23047,18756,18756,25028,46289,65535,65535,65503,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65503,57051,59163,54872,44309,52825,65503,63389,65503,65503,65535,65372,56854,63325,63325,63390,65535,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,63390,57051,50712,50647,57050,54872,50646,44242,33546,14594,4161,12547,14659,25093,31497,35789,37903,44242,46420,52824,54938,56986,61277,63390,63390,65535,48598,50516,44242,29516,21064,21000,25162,27339,27340,31630,35789,52692,46420,50645,46353,52625,39951,35790,48468,63260,65503,65503,65503,65535,
                               63390,65503,65503,63390,65503,65503,65503,65503,63390,65535,46486,18886,20934,16773,20999,20934,16773,14725,16838,14660,8386,14659,31431,50316,52363,46090,48268,54606,58831,58896,54736,52561,46353,37903,35855,46420,33742,25225,31499,44110,31498,23047,20935,14661,14726,14726,14726,42062,50578,42128,25289,31562,35724,29450,44111,48336,61211,65503,65503,63390,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65535,37969,31366,39754,37641,35528,31368,31368,31368,29319,27271,23047,20999,27336,33674,40012,46285,48399,46288,42062,42062,48402,48402,48467,44176,27337,48271,46224,29386,35724,46158,29450,16838,16773,16774,23177,37904,23113,16838,31563,27338,25224,23110,16838,20999,14660,27338,63325,65503,65503,65503,
                               65503,65503,65503,65503,63390,65503,65503,63390,65503,65535,35856,31366,25225,18886,18886,25160,31434,33545,35593,37706,35657,31432,25160,23177,21064,18952,18952,18952,10500,29385,39950,27338,27334,27335,31563,52363,54542,23111,37772,35724,16773,23111,20998,18886,23113,33678,29386,12548,10434,33545,21064,21063,25224,31628,18951,31629,65503,65503,65503,65503,
                               63390,65503,65503,63390,65535,65503,65503,65535,63455,59032,29319,35592,16773,8387,8451,8451,10499,8387,10500,12612,27207,33481,39755,37707,31498,27338,23112,18951,12612,25224,27272,27337,25285,33673,37902,22979,33478,25159,35724,25225,21064,20999,18886,14725,18886,23176,31499,18887,16773,48268,23047,20999,25224,39885,37708,37969,65503,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,41998,29189,33481,27338,18886,14725,14725,14660,12548,10500,8451,16708,20869,31303,41803,27272,27272,42062,37836,23047,33546,41932,35658,31432,40009,37902,46356,37903,14660,29385,41998,37837,39950,29451,31565,35725,39951,35791,29387,18886,46156,41997,37707,22981,35530,41935,46486,65535,65503,65503,65535,
                               63390,65503,65503,63390,65503,65503,65503,65535,63325,33481,31302,25094,23046,29320,33481,31368,29255,27207,27208,18821,14660,16773,18821,39688,14725,33612,42063,21063,18886,40015,40015,20934,39818,54608,52496,59032,52693,29451,29450,33611,33611,37837,27338,33677,39951,42064,29516,18952,16774,33609,37836,52237,22981,29385,39951,54872,65503,65503,65503,63390,
                               65503,65503,65503,65503,65503,65503,65503,65503,59032,29189,31302,35464,27142,29190,35463,37511,37575,35463,35463,29254,29190,29190,35399,37511,27337,42128,25225,16837,35725,42128,23112,20934,33416,29384,35528,27142,35593,35725,18887,16774,27338,29450,23112,31500,35790,37903,27403,8387,10499,18886,29386,50449,29385,18821,37643,54872,65535,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,56919,25028,27142,43849,39688,29189,35527,39688,39688,33351,27078,29190,22916,24965,24965,20869,20999,29321,25159,37706,41998,29386,16773,35723,37705,39817,41865,39884,35790,25225,25226,27274,33612,31564,27338,31564,35725,37838,27338,10564,21064,21065,25355,37772,18820,12612,33676,54872,65535,65503,65503,65503,
                               63390,65503,65503,63390,65503,65503,65503,65535,54741,25028,18756,29254,25029,18756,29189,31366,29254,29189,29190,24964,29190,27142,22981,16708,10435,20804,35462,45962,46025,48137,52362,52364,60750,65039,60749,63061,52825,10500,29387,35724,35725,37903,33678,39951,42064,42064,27338,10499,31432,25224,19016,29451,23047,16773,29516,59099,65503,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,65503,54741,20867,25029,25029,27077,29254,31301,33414,33478,33478,35527,29189,35463,35527,29254,14659,14660,35463,39687,41800,56458,58699,56523,56524,58636,60812,56523,60884,46486,16774,23113,29451,27403,31564,29451,37903,42128,40015,21064,10499,31432,31432,25224,48402,35789,20998,42193,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,54741,16707,27078,31367,35527,31367,31366,31365,33413,33413,33413,29253,35526,37575,31302,12547,18820,35526,37638,41800,46023,35463,33479,43913,46025,52361,45959,52432,33744,16839,6275,6338,6274,8387,12547,16774,18951,23112,23047,29384,37771,41998,33546,44240,40080,29451,50581,65535,63390,65503,65503,63390,
                               65503,65503,65503,65503,63390,65503,65503,65503,56986,27141,33416,29384,29385,27338,23112,20998,25092,29253,29253,29189,33478,35526,29253,12547,18820,35462,37574,41800,35527,31302,25029,29254,43911,43911,33413,46224,42195,14728,8388,8451,6339,12612,29386,33547,25160,29386,31497,29385,33610,29450,23112,42128,50645,31564,46353,65503,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65504,59099,29450,29451,25224,25225,25225,23177,10500,10499,20868,27141,27141,33414,33414,20932,10499,16707,31302,37575,43783,35527,33480,31367,35526,41799,39687,31237,25160,37969,12613,18887,18885,8387,12612,39885,37773,31369,31434,20934,22982,25224,18951,23111,42129,29516,21064,46419,65503,65503,65503,65503,65503,
                               63390,65503,65503,63390,65503,65503,65503,63390,27403,10500,14725,25160,23177,21064,23112,21064,12612,10499,14595,16707,22917,25029,14595,10499,16707,33413,37575,41735,41799,35527,35591,37638,35527,29190,29256,14660,37968,52825,59164,48534,27403,25290,29516,29451,31564,29451,23112,18821,20999,12613,12548,44308,59164,61277,65503,65503,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65535,37968,10499,14661,10499,20999,25224,25225,21064,23112,21064,14725,8387,6274,6338,10435,8387,8451,16707,29253,35463,31301,39686,31366,25093,20932,25029,20868,16644,12612,21063,48598,65535,65503,65535,63390,65503,65503,63390,65503,65503,54938,50712,54873,52825,65503,65503,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,50647,16773,10435,16773,12612,14660,12612,20934,27402,23112,23112,23177,18951,10499,8386,10434,10499,10499,14595,14660,16772,22981,31365,29254,22981,25029,16643,10435,8387,12612,23177,23177,54938,65535,63390,65503,65503,63390,65535,65503,65503,65535,65503,65535,65504,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,65503,65503,65503,61277,23177,10435,10435,8386,23177,40146,35856,20934,20999,27338,23112,23112,25225,23112,14661,8387,10434,12547,14595,12548,14725,18820,25029,22981,16707,10434,8386,10500,14725,14725,16838,20999,29516,63390,65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65535,
                               65503,65503,65503,65503,65503,35855,12547,10435,12548,6338,12677,19016,33807,42194,20934,18886,25225,25225,23176,25225,25225,16838,8387,12547,14595,10500,14725,12547,12547,8386,6274,8386,6274,12547,12612,16774,12548,16838,21064,61277,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65535,50647,14660,14660,18822,16773,16773,8451,2113,8387,25355,46421,21000,23112,25224,27338,25225,27338,23112,18886,10499,10499,14660,12612,8387,8386,6274,10435,10499,8387,14660,14660,12613,12612,12612,18951,61277,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65535,65503,65503,63325,25225,12548,12612,14660,18886,23047,21000,8451,2113,12613,33807,18887,16773,25225,23112,23177,25225,27338,23112,16773,6274,6274,4225,4225,6274,6274,10435,8387,8387,10499,8387,10500,10499,6274,37969,65503,65535,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65535,
                               63390,65503,65535,54873,16773,14725,10499,18886,23112,23048,21000,18951,4225,4226,14725,18886,12548,18887,25225,25289,25224,31499,27338,23112,16838,10565,8451,8387,8387,6338,6274,4225,6274,4225,6274,10499,12613,27404,48599,63455,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,65504,46420,12612,20999,16773,18887,23112,23112,23112,21000,12612,10434,14595,18821,14725,14725,18951,25225,25290,23176,27338,23177,23177,21130,19017,19017,16904,16839,14726,12613,10564,10500,12613,23243,35921,44373,48599,57051,65503,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65535,54938,16773,18886,14660,14725,18887,20999,20999,18951,12548,14596,16708,14595,14660,18886,20999,20999,23112,25225,25289,25225,18887,25290,27469,25356,25356,23243,21130,21130,21130,25356,29582,40147,48599,52825,63390,65535,65503,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65503,65503,65503,57051,21064,14661,14660,14661,18887,20934,20934,16839,8387,16708,16709,12483,16838,14725,14661,16773,23176,20999,23112,25225,18951,18951,31695,31695,31695,29582,29582,31695,33808,33808,35921,40147,44373,50712,54938,61277,63390,63390,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65535,44372,10435,16773,14660,18821,12548,20999,12612,14660,18821,12547,8387,16774,16709,16709,18821,20934,23112,18886,16838,16774,18952,38034,40147,40147,44373,46486,46486,48599,46486,46486,48599,46486,48599,50712,52825,57051,59164,61277,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,
                               63390,65503,65503,63390,57051,27404,8386,12612,16773,16774,10500,12547,18821,18821,18822,12612,18886,12548,14661,20934,14725,16838,16838,12613,10500,29517,48599,48599,52825,52825,54938,57051,54938,57051,57051,52825,54938,52825,54938,57051,57051,61277,63390,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,63390,54938,44373,42260,29517,14725,12612,8387,6274,8386,10435,14596,14660,12548,12612,14661,12548,12612,18886,14726,10499,10500,23243,48599,50712,54938,52825,54938,54938,54938,59164,57051,59164,61277,57051,59164,59164,57051,61277,61277,63390,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,61277,54938,52825,46486,38034,33743,25291,18952,14725,12547,8387,8386,8386,10499,10499,12547,14660,10499,14726,35921,46486,48599,50712,50712,54938,54938,54938,57051,57051,59164,59164,59164,61277,61277,61277,63390,61277,63390,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65503,65503,65503,65503,65503,65503,65503,65503,63390,61277,57051,52825,44373,35921,29517,23178,21064,14661,10499,10500,14726,25291,33808,35921,42260,52825,59164,59164,59164,59164,57051,57051,57051,59164,59164,61277,61277,61277,63390,63390,63390,63390,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65535,65503,65503,61277,57051,52825,44373,38034,31630,31695,31695,33808,46486,61277,65503,65503,65503,65503,65503,65503,61277,61277,61277,61277,63390,61277,63390,63390,63390,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,65503,65535,65503,63390,63390,59164,59164,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,63390,65503,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,
                               63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,65535,65503,65503,65535,63390,65503,65503,63390,
                               65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,
                               65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,65503,
                               63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,65503,65503,65503,65503,63390,65503,65503,63390,
                               65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,63390,65503,65503,63390,65535,63390,63390,65535,
};

const uint16_t walle[3600] = {65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59099,52760,54872,40016,37968,46420,52759,57050,61277,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61276,48533,33742,21064,12612,14660,16838,25226,23177,16838,16838,21064,21065,37968,65438,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,48533,31629,21064,14790,23178,37968,25291,8387,23177,29516,21000,16775,12613,16839,31629,18886,31630,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50582,27273,23112,19016,12613,12614,12550,23177,33677,12612,23177,25290,12613,14663,12549,8387,40016,42129,14726,57051,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,44307,23047,27338,44241,18951,8387,12549,12549,8452,21064,18886,16838,21000,4161,6274,12548,8387,33742,48532,21065,42260,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,52825,16773,18886,37903,46355,16838,4225,2113,10436,10500,14726,27272,18886,16838,10564,8387,8387,10500,37968,50646,31630,35920,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,27338,18886,37903,46355,25226,10500,8387,8386,14725,14725,27207,14660,14725,18951,12613,12613,27339,46420,50646,31629,40146,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65502,21064,16838,44177,50581,40016,18952,12613,14790,18951,23112,27403,18821,14659,18885,21064,35790,46355,42129,42129,23113,57050,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29451,12547,33613,48403,46291,46355,37903,25290,12548,37968,63325,40016,50646,27338,18885,23111,27338,25225,25225,46485,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59099,20934,16773,29387,31499,37837,27338,18886,18756,23047,35790,54938,65535,65503,56986,52759,52760,54937,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59099,37903,29516,31565,37968,44307,18755,22916,22916,25030,63260,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65438,29320,20803,29190,27076,48402,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,63390,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,50646,18755,31366,35398,46289,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,61212,54808,48404,48469,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,48533,14594,27206,35527,48337,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,65438,59033,42064,37903,48402,42064,37839,63325,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,37838,20867,22916,29189,44045,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,48404,48402,58967,50515,46290,46354,50581,48468,40016,59099,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56986,23046,20868,33349,33284,50449,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,61212,33611,39885,52498,54742,50581,48467,54742,54807,46421,50647,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31434,6209,18755,25029,54742,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29452,27339,37773,56854,54807,46290,52694,46420,31564,37969,65503,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,50580,29189,12482,20803,31433,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56986,21000,33677,44176,48338,37903,27338,25225,20999,31500,37839,63325,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65503,61277,61277,59164,59164,65535,65503,65503,63390,33677,18821,27142,24964,24963,35724,42194,48534,57051,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,40016,14661,12613,18887,25159,23112,27338,33677,27274,31500,44308,65503,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,37969,16839,16839,18886,20999,33612,33611,35594,31369,18691,14595,14660,16707,16708,35593,35528,31366,27206,29385,33678,42195,52761,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,52759,18951,12613,16773,33547,52562,52564,42065,31564,35855,56986,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31564,31366,27142,20934,16774,23111,25224,33480,35528,22981,16708,14660,14659,20933,39752,46090,52428,48203,48203,44042,46153,48267,46222,42127,44306,52760,61277,65503,65535,65535,65535,65535,35660,14596,35856,40016,31499,31629,31565,37969,52825,65503,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31499,35594,37706,37641,35528,33415,27207,23112,25225,31562,41932,50381,58830,62989,62990,58831,56719,58702,54542,56718,58895,61009,56785,52626,39949,33612,33677,37904,50647,65535,65535,44178,18886,20999,63390,48599,18952,31695,54938,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63324,27272,27208,12612,16774,31498,37771,41866,39753,31367,20934,21064,23177,31563,40014,37902,37902,35789,39951,46356,44242,42065,48469,46421,48534,42130,27338,21064,44307,59163,65535,48402,22982,14596,35855,65535,65535,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,48403,27205,23047,8387,8387,10499,12548,20935,29385,35660,35725,37839,33677,23177,23178,23178,16839,14661,39885,44178,40082,33678,33611,33610,35787,37837,29450,20999,54937,65535,61146,22981,18886,16773,44242,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65502,33481,33415,27273,12548,8387,10500,8452,8387,8387,12548,18822,25161,35726,25290,21064,21064,16839,14725,33677,29450,29386,29452,29450,25286,19015,31564,48403,46354,61211,65535,52562,22980,14660,16773,25095,63325,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56919,27076,31303,27273,31498,25160,18886,12548,12548,10500,10500,10500,12612,25225,44242,40081,40016,25225,16774,33612,25224,25224,33612,25289,27399,42187,40013,54742,52628,61212,65437,41865,27142,25029,14595,29516,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,48467,27076,29255,22917,29254,33415,29255,29256,27208,20934,16773,12613,12612,27338,52693,48468,44307,23112,16774,42063,42063,44175,46224,35791,31628,46411,37901,44176,37837,63390,54674,35462,33415,29253,20869,57051,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,39884,20804,37512,31303,31302,37575,37511,35463,35463,25093,20933,18821,14661,29386,48403,40081,35790,21064,14725,44111,58901,58901,54676,61080,44177,50578,44176,33546,27273,59033,39752,33414,31366,22916,37904,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65502,29319,20868,37576,39624,31302,39688,41736,35463,35399,37511,33350,22982,14660,29451,42063,37903,35790,21000,18886,27274,31564,31499,52628,56855,44177,52694,54807,37771,33481,41996,31365,31365,27140,25094,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63324,20933,20868,29190,25029,20868,35463,33414,27077,24965,24964,25029,25029,12548,18886,35724,37773,37837,25224,25225,23113,31500,16774,20999,31498,27336,42063,56920,52628,39754,31431,29253,29253,20867,44242,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56985,14595,18756,22917,20804,22980,29189,29253,29254,27077,27077,27142,25029,16708,16708,39688,43979,48140,41866,29451,16839,44242,27338,35724,54675,54739,56720,52625,50516,46093,35527,25028,27140,25160,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,56985,12546,14595,29190,31303,31302,31365,33414,33414,29253,31302,31303,25029,14659,25030,41801,39753,43915,39753,33612,23177,44177,50516,48402,56855,54808,50581,61011,56655,54543,46025,27142,20804,48469,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,59099,12547,20804,31303,33415,29254,31365,31365,31365,29189,31366,33414,25029,29320,33612,27207,29190,25029,31368,23047,23112,44242,50581,50581,52629,54807,50582,54807,58833,56461,37640,16772,35790,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63389,35527,31302,31367,27206,16708,27141,29253,29253,27140,29253,31302,25094,42064,33741,20934,35529,22917,22981,41929,35658,16840,18952,25291,29452,31564,33678,54807,54738,54412,50254,54807,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,56986,52824,42259,35856,31564,23112,25225,27274,20999,20932,27141,27140,25028,31431,33611,16838,42128,35725,18886,46158,20868,31366,52235,37641,25160,27272,37706,50382,54605,48266,37903,50449,48009,60884,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,56986,23113,25160,27274,25161,27274,29451,23113,23113,21064,14660,20868,25029,22981,39885,35789,16773,42063,31564,18887,35659,25093,39689,43786,56525,48140,35529,39754,58766,60876,62923,54538,46155,41736,44044,61277,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,35855,8386,23112,21064,21000,18951,23113,18951,21064,21064,16838,12548,31434,18886,37837,33612,18886,44241,31563,22981,33350,52298,48139,39755,56655,50318,35594,48139,56651,58699,58763,58699,50185,37576,29320,31629,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,63390,21000,12548,18887,23113,23177,21000,25225,25225,21000,21000,20934,33416,37642,14725,35790,29451,23112,39885,27142,29254,41736,54410,50250,50250,54542,52366,52428,58763,56587,56588,56523,48138,47883,33352,18951,23112,44372,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,54873,10435,14661,18886,23112,20999,23113,18887,25226,23177,23112,20869,16708,33479,23046,35790,31563,20934,14595,25028,35527,33350,48073,52297,52296,52362,50316,50313,43976,44043,50187,43849,39625,48209,31304,18887,21000,25290,63325,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,35855,8322,10435,10435,18887,27338,21000,21064,21064,23113,23113,16773,12612,27142,33416,31498,20869,8386,8322,16707,20933,27141,43848,48072,50248,39817,29318,29319,25158,31432,37641,31303,29255,29256,18821,16838,25226,18951,40081,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,63390,21000,8386,8386,8386,12548,23112,25225,21064,21064,23177,16839,12612,18756,33351,27142,12547,6274,6273,6274,12547,10499,25093,37575,41800,48073,41865,33415,41866,37576,33350,29190,20869,16709,14660,10499,16838,27338,25226,25226,57051,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,52760,10499,8387,12548,10500,6274,18951,20999,23112,18951,14661,8387,10499,27142,20869,10499,8322,6274,8322,10434,10500,10499,22981,31367,31367,37640,39688,33350,25094,20868,12547,12483,8387,10499,12547,14725,21064,23113,25225,18951,40082,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,37968,8322,14661,16773,18886,6274,6274,27338,21064,23112,16838,10499,8387,12547,10499,8387,14596,10499,8386,8386,10500,10499,16772,22981,18820,16708,12547,10435,8322,8322,8386,10435,8386,10499,12613,18887,23113,23177,25225,21064,18887,59163,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,25225,10435,8386,18886,23112,12613,4226,20999,27338,27338,23112,16774,10499,8451,8386,10499,12548,8322,8387,10499,10499,8386,6274,8386,8386,10434,10435,8322,8322,10435,10435,8387,8322,6274,10435,14661,21064,18951,20999,20999,16773,44372,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65503,25226,14660,12548,18951,21064,16839,12612,18887,27338,16838,23112,18886,12612,10500,10499,10499,8386,10435,12548,18886,27403,23177,27468,14725,8322,10499,12547,8322,8322,10435,8386,8322,10499,8387,14660,12612,18951,18951,16838,16838,14661,46485,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,63390,18952,14725,18886,18951,23177,18951,18822,16774,25225,29451,23177,23177,23177,21064,18886,14725,16773,10499,12547,33743,48599,46486,46486,29517,6274,4225,6274,4225,6274,8387,8322,10435,12547,8387,12612,14660,12613,16774,16838,16774,10499,38034,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,33678,16774,14661,20935,21000,16838,12613,18886,25226,21000,23112,25225,29451,31564,23177,23112,25225,12548,21064,42260,40147,38034,33808,29582,19017,10499,6338,6273,4225,6274,6274,6274,8386,8386,10435,8386,14725,14661,10500,8387,12613,59164,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,25291,12548,14661,18887,18951,14726,10499,12483,16773,31564,23177,21064,21064,25225,23113,20999,23112,27404,35921,35921,33808,29582,27469,25356,21130,16904,12678,10565,8451,10499,8387,6338,4225,6273,4225,8386,10500,8387,6273,14791,42260,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,46421,10435,14660,16773,18887,12612,12548,14660,16838,21064,20999,25225,25225,35725,27403,18951,18951,29516,33808,29582,27469,25356,23243,23243,21130,21130,21130,21130,19017,14791,12613,10500,8387,6274,6274,8386,6274,8387,19017,46486,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65503,46421,8386,14660,12548,14726,10500,12483,16773,10500,23112,27338,18887,18887,23112,23112,21000,18887,23113,27469,25356,23243,23243,23243,25356,25356,25356,25356,27469,29582,33873,40147,46486,46486,33808,23243,21065,33743,50712,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,61277,54938,52825,50712,50712,16839,8386,16773,10500,14660,16708,14660,14661,23047,18886,20999,23112,25225,25225,18952,14726,16838,25356,27469,27469,27469,27469,29582,31695,33808,38034,46486,57051,63390,65535,65535,65535,65535,65535,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,63390,52825,48599,48599,48599,29517,6274,6274,6273,12548,16709,14660,12548,16774,23177,18887,14726,16838,18887,16774,14661,18887,29582,31695,31695,33808,38034,42260,50712,59164,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,61277,52825,48599,42260,23178,10499,6273,6274,12548,14660,12548,16773,16774,14726,16774,16773,12613,14725,10564,12613,33808,40147,46486,54938,61277,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65503,59164,50712,42260,25356,12613,8386,6273,6274,10499,14725,14725,10500,12612,10500,10499,10500,6273,23242,57051,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65503,57051,46486,31695,16839,10499,6274,8386,12612,10500,10500,8387,6338,6338,6273,16903,54938,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,63390,52825,38035,23243,14725,8386,10499,6274,6273,4225,6274,10564,19016,54937,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,50712,35921,21065,10500,14791,21130,31695,42260,50712,63390,65503,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,63390,54938,50712,57116,63390,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
                              65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
 };



/************************************  Private Functions  *******************************************/

/*
 * Delay x ms
 */
static void Delay(unsigned long interval)
{
    while(interval > 0)
    {
        __delay_cycles(48000);
        interval--;
    }
}

/*******************************************************************************
 * Function Name  : LCD_initSPI
 * Description    : Configures LCD Control lines
 * Input          : None
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
static void LCD_initSPI()
{
    /*
     * 1. Set UCSWRST
     * 2. Initialize all eUSCI registers with UCWRST = 1 (including UCxXTL1
     * 3. Configure ports
     * 4. Clear UCSWRST through software
     * 5. Enable optional interrupts with UCRXIE or UCTXIE
     *
     * UCB3
     * P10.1 - CLK
     * P10.2 - MOSI
     * P10.3 - MISO
     * P10.4 - LCD CS 
     * P10.5 - TP CS 
     */

    EUSCI_B3->CTLW0 |= EUSCI_B_CTLW0_SWRST;                                 // Set UCSWRST for configuration

    EUSCI_B3->CTLW0 |= EUSCI_B_CTLW0_MSB    | EUSCI_B_CTLW0_MST  |          // MSB first, Master mode, Synchronous mode,
                       EUSCI_B_CTLW0_MODE_0 | EUSCI_B_CTLW0_SYNC |          // Inactive state is high, 3-pin SPI, 8-bit data
                       EUSCI_B_CTLW0_SSEL_3 | EUSCI_B_CTLW0_CKPL;           // Standard clock,

    EUSCI_B3->BRW = 0;                                                      // Maximum clock speed

    P10->SEL0 |= (BIT1 | BIT2 | BIT3) ;                                     // Set CLK, MOSI, MISO to primary function (EUSCI_B3 SPI)
    P10->SEL1 &= ~(BIT1 | BIT2 | BIT3) ;
    P10->DIR |= (BIT1 | BIT2 | BIT3);                                       // Set to outputs

    P10->SEL0 &= ~(BIT4 | BIT5);                                            // Set LCD CS, TP CS to GPIO outputs
    P10->SEL1 &= ~(BIT4 | BIT5) ;
    P10->DIR |= (BIT4 | BIT5);                                              // Set to outputs

    EUSCI_B3->CTLW0 &= ~EUSCI_B_CTLW0_SWRST;                                // Clear UCSWRST, ready to transmit/receive


}

/*******************************************************************************
 * Function Name  : LCD_reset
 * Description    : Resets LCD
 * Input          : None
 * Output         : None
 * Return         : None
 * Attention      : Uses P10.0 for reset
 *******************************************************************************/
static void LCD_reset()
{
    P10DIR |= BIT0;
    P10OUT |= BIT0;  // high
    Delay(100);
    P10OUT &= ~BIT0; // low
    Delay(100);
    P10OUT |= BIT0;  // high
}

/************************************  Private Functions  *******************************************/


/************************************  Public Functions  *******************************************/

void LCD_Draw_Menu()
{
    LCD_Clear(0xB44B);
    LCD_DrawRectangle(130, 190, 30, 90, LCD_WHITE);
    LCD_DrawRectangle(70, 130, 90, 150, LCD_WHITE);
    LCD_DrawRectangle(130, 190, 150, 210, LCD_WHITE);
    LCD_DrawRectangle(190, 250, 90, 150, LCD_WHITE);
    LCD_Text((MAX_SCREEN_X/2)-64, 10, "WALL-E Controller", LCD_WHITE);
    LCD_DrawPicture(130, 190, 30, 90, walle);
    LCD_DrawPicture(70, 130, 90, 150, walle2);
    LCD_DrawPicture(130, 190, 90, 150, walle3);
}

/*******************************************************************************
 * Function Name  : LCD_DrawPicture
 * Description    : Draw a picture
 * Input          : Picture
 * Output         : None
 * Return         : None
 * Attention      : Must draw from left to right, top to bottom!
 *******************************************************************************/
void LCD_DrawPicture(int16_t xStart, int16_t xEnd, int16_t yStart, int16_t yEnd, uint16_t * Picture)
{
    // Optimization complexity: O(64 + 2N) Bytes Written



    /* Set window area for high-speed RAM write */
    LCD_WriteReg(HOR_ADDR_START_POS, yStart);     /* Horizontal GRAM Start Address */
    LCD_WriteReg(HOR_ADDR_END_POS, yEnd-1);  /* Horizontal GRAM End Address */
    LCD_WriteReg(VERT_ADDR_START_POS, xStart);    /* Vertical GRAM Start Address */
    LCD_WriteReg(VERT_ADDR_END_POS, xEnd-1); /* Vertical GRAM Start Address */

    uint16_t xstart = LCD_ReadReg(HOR_ADDR_START_POS);
    uint16_t xend = LCD_ReadReg(HOR_ADDR_END_POS);
    uint16_t ystart = LCD_ReadReg(VERT_ADDR_START_POS);
    uint16_t yend = LCD_ReadReg(VERT_ADDR_END_POS);

    /* Set cursor */
    LCD_SetCursor(xStart, yStart);

    /* Set index to GRAM */
    LCD_WriteIndex(GRAM);

    int size = (xEnd - xStart)*(yEnd - yStart);                      // Calculate the size of the rectangle


    /* Send out data only to the entire area */
    SPI_CS_LCD_LOW;

    LCD_Write_Data_Start();                                         // Start write of continuous data

    int i = 0;
    while(i <= size)
    {
        i++;
        LCD_Write_Data_Only(*Picture);                                 // Output the data to the specified area
        Picture++;
    }

    SPI_CS_LCD_HIGH;
}


/*******************************************************************************
 * Function Name  : LCD_DrawRectangle
 * Description    : Draw a rectangle as the specified color
 * Input          : xStart, xEnd, yStart, yEnd, Color
 * Output         : None
 * Return         : None
 * Attention      : Must draw from left to right, top to bottom!
 *******************************************************************************/
void LCD_DrawRectangle(int16_t xStart, int16_t xEnd, int16_t yStart, int16_t yEnd, uint16_t Color)
{
    // Optimization complexity: O(64 + 2N) Bytes Written 

    /* Check special cases for out of bounds */

    if(xEnd > MAX_SCREEN_X)
    {
        xEnd = MAX_SCREEN_X;
    }
    else if(xStart < MIN_SCREEN_X)
    {
        xStart = MIN_SCREEN_X;
    }

    if(yEnd > MAX_SCREEN_Y)
    {
        yEnd = MAX_SCREEN_Y;
    }
    else if(yStart < MIN_SCREEN_Y)
    {
        yStart = MIN_SCREEN_Y;
    }


    /* Set window area for high-speed RAM write */
    LCD_WriteReg(HOR_ADDR_START_POS, yStart);     /* Horizontal GRAM Start Address */
    LCD_WriteReg(HOR_ADDR_END_POS, yEnd-1);  /* Horizontal GRAM End Address */
    LCD_WriteReg(VERT_ADDR_START_POS, xStart);    /* Vertical GRAM Start Address */
    LCD_WriteReg(VERT_ADDR_END_POS, xEnd-1); /* Vertical GRAM Start Address */

//    uint16_t xstart = LCD_ReadReg(HOR_ADDR_START_POS);
//    uint16_t xend = LCD_ReadReg(HOR_ADDR_END_POS);
//    uint16_t ystart = LCD_ReadReg(VERT_ADDR_START_POS);
//    uint16_t yend = LCD_ReadReg(VERT_ADDR_END_POS);

    /* Set cursor */ 
    LCD_SetCursor(xStart, yStart);

    /* Set index to GRAM */ 
    LCD_WriteIndex(GRAM);

    int size = (xEnd - xStart)*(yEnd - yStart);                     // Calculate the size of the rectangle


    /* Send out data only to the entire area */ 
    SPI_CS_LCD_LOW;

    LCD_Write_Data_Start();                                         // Start write of continuous data

    int i = 0;
    while(i <= size)
    {
        i++;
        LCD_Write_Data_Only(Color);                                 // Output the data to the specified area
    }

    SPI_CS_LCD_HIGH;

}

/******************************************************************************
 * Function Name  : PutChar
 * Description    : Lcd screen displays a character
 * Input          : - Xpos: Horizontal coordinate
 *                  - Ypos: Vertical coordinate
 *                  - ASCI: Displayed character
 *                  - charColor: Character color
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void PutChar( uint16_t Xpos, uint16_t Ypos, uint8_t ASCI, uint16_t charColor)
{
    uint16_t i, j;
    uint8_t buffer[16], tmp_char;
    GetASCIICode(buffer,ASCI);  /* get font data */
    for( i=0; i<16; i++ )
    {
        tmp_char = buffer[i];
        for( j=0; j<8; j++ )
        {
            if( (tmp_char >> 7 - j) & 0x01 == 0x01 )
            {
                LCD_SetPoint( Xpos + j, Ypos + i, charColor );  /* Character color */
            }
        }
    }
}

/******************************************************************************
 * Function Name  : GUI_Text
 * Description    : Displays the string
 * Input          : - Xpos: Horizontal coordinate
 *                  - Ypos: Vertical coordinate
 *                  - str: Displayed string
 *                  - charColor: Character color
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
void LCD_Text(uint16_t Xpos, uint16_t Ypos, uint8_t *str, uint16_t Color)
{
    uint8_t TempChar;

    /* Set area back to span the entire LCD */
    LCD_WriteReg(HOR_ADDR_START_POS, 0x0000);     /* Horizontal GRAM Start Address */
    LCD_WriteReg(HOR_ADDR_END_POS, (MAX_SCREEN_Y - 1));  /* Horizontal GRAM End Address */
    LCD_WriteReg(VERT_ADDR_START_POS, 0x0000);    /* Vertical GRAM Start Address */
    LCD_WriteReg(VERT_ADDR_END_POS, (MAX_SCREEN_X - 1)); /* Vertical GRAM Start Address */
    do
    {
        TempChar = *str++;
        PutChar( Xpos, Ypos, TempChar, Color);
        if( Xpos < MAX_SCREEN_X - 8)
        {
            Xpos += 8;
        }
        else if ( Ypos < MAX_SCREEN_X - 16)
        {
            Xpos = 0;
            Ypos += 16;
        }
        else
        {
            Xpos = 0;
            Ypos = 0;
        }
    }
    while ( *str != 0 );
}


/*******************************************************************************
 * Function Name  : LCD_Clear
 * Description    : Fill the screen as the specified color
 * Input          : - Color: Screen Color
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
void LCD_Clear(uint16_t Color)
{
    /* Set area back to span the entire LCD */
    LCD_WriteReg(HOR_ADDR_START_POS, 0x0000);     /* Horizontal GRAM Start Address */
    LCD_WriteReg(HOR_ADDR_END_POS, (MAX_SCREEN_Y - 1));  /* Horizontal GRAM End Address */
    LCD_WriteReg(VERT_ADDR_START_POS, 0x0000);    /* Vertical GRAM Start Address */
    LCD_WriteReg(VERT_ADDR_END_POS, (MAX_SCREEN_X - 1)); /* Vertical GRAM Start Address */
        uint16_t xstart = LCD_ReadReg(HOR_ADDR_START_POS);
        uint16_t xend = LCD_ReadReg(HOR_ADDR_END_POS);
        uint16_t ystart = LCD_ReadReg(VERT_ADDR_START_POS);
        uint16_t yend = LCD_ReadReg(VERT_ADDR_END_POS);
    /* Set cursor to (0,0) */ 
    LCD_SetCursor(0, 0);

    /* Set write index to GRAM */     
    LCD_WriteIndex(GRAM);

    /* Start data transmission */

    SPI_CS_LCD_LOW;

    LCD_Write_Data_Start();                                 // Start write of continuous data

    int i = 0;
    while(i < SCREEN_SIZE)
    {
        LCD_Write_Data_Only(Color);                         // Output data to whole LCD
        i++;
    }

    SPI_CS_LCD_HIGH;

    // You'll need to call LCD_Write_Data_Start() and then send out only data to fill entire screen with color 
}

/******************************************************************************
 * Function Name  : LCD_SetPoint
 * Description    : Drawn at a specified point coordinates
 * Input          : - Xpos: Row Coordinate
 *                  - Ypos: Line Coordinate
 * Output         : None
 * Return         : None
 * Attention      : 18N Bytes Written
 *******************************************************************************/
void LCD_SetPoint(uint16_t Xpos, uint16_t Ypos, uint16_t color)
{
    /* Should check for out of bounds */ 
    if(Xpos > MAX_SCREEN_X)
    {
        Xpos = MIN_SCREEN_X;
    }
    if(Ypos > MAX_SCREEN_Y)
    {
        Ypos = MIN_SCREEN_Y;
    }

    /* Set cursor to Xpos and Ypos */ 
    LCD_SetCursor(Xpos, Ypos);

    /* Write color to GRAM reg */ 
    LCD_WriteReg(GRAM, color);
}

/*******************************************************************************
 * Function Name  : LCD_Write_Data_Only
 * Description    : Data writing to the LCD controller
 * Input          : - data: data to be written
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_Write_Data_Only(uint16_t data)
{
    /* Send out MSB */ 
    SPISendRecvByte((data >>   8));                    /* Write D8..D15                */

    /* Send out LSB */ 
    SPISendRecvByte((data & 0xFF));                    /* Write D0..D7                 */

}

/*******************************************************************************
 * Function Name  : LCD_WriteData
 * Description    : LCD write register data
 * Input          : - data: register data
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_WriteData(uint16_t data)
{
    SPI_CS_LCD_LOW;

    SPISendRecvByte(SPI_START | SPI_WR | SPI_DATA);    /* Write : RS = 1, RW = 0       */
    SPISendRecvByte((data >>   8));                    /* Write D8..D15                */
    SPISendRecvByte((data & 0xFF));                    /* Write D0..D7                 */

    SPI_CS_LCD_HIGH;
}

/*******************************************************************************
 * Function Name  : LCD_WriteReg
 * Description    : Reads the selected LCD Register.
 * Input          : None
 * Output         : None
 * Return         : LCD Register Value.
 * Attention      : None
 *******************************************************************************/
inline uint16_t LCD_ReadReg(uint16_t LCD_Reg)
{
    /* Write 16-bit Index */
    LCD_WriteIndex(LCD_Reg);

    /* Return 16-bit Reg using LCD_ReadData() */
    return LCD_ReadData();

}

/*******************************************************************************
 * Function Name  : LCD_WriteIndex
 * Description    : LCD write register address
 * Input          : - index: register address
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_WriteIndex(uint16_t index)
{
    SPI_CS_LCD_LOW;

    /* SPI write data */
    SPISendRecvByte(SPI_START | SPI_WR | SPI_INDEX);   /* Write : RS = 0, RW = 0  */
    SPISendRecvByte(0);
    SPISendRecvByte(index);

    SPI_CS_LCD_HIGH;
}

/*******************************************************************************
 * Function Name  : SPISendRecvByte
 * Description    : Send one byte then receive one byte of response
 * Input          : uint8_t: byte
 * Output         : None
 * Return         : Received value
 * Attention      : None
 *******************************************************************************/
inline uint8_t SPISendRecvByte (uint8_t byte)
{
    /* Send byte of data */
    EUSCI_B3->TXBUF = byte;

    /* Wait as long as busy */ 
    while(EUSCI_B3->STATW & EUSCI_B_STATW_SPI_BUSY);


    /* Return received value*/
    return EUSCI_B3->RXBUF;
}

/*******************************************************************************
 * Function Name  : LCD_Write_Data_Start
 * Description    : Start of data writing to the LCD controller
 * Input          : None
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_Write_Data_Start(void)
{
    SPISendRecvByte(SPI_START | SPI_WR | SPI_DATA);    /* Write : RS = 1, RW = 0 */
}


/*******************************************************************************
 * Function Name  : LCD_ReadData
 * Description    : LCD read data
 * Input          : None
 * Output         : None
 * Return         : return data
 * Attention      : Diagram (d) in datasheet
 *******************************************************************************/
inline uint16_t LCD_ReadData()
{
    uint16_t value;
    SPI_CS_LCD_LOW;

    SPISendRecvByte(SPI_START | SPI_RD | SPI_DATA);   /* Read: RS = 1, RW = 1   */
    SPISendRecvByte(0);                               /* Dummy read 1           */
    SPISendRecvByte(0);                               /* Dummy read 2           */
    SPISendRecvByte(0);                               /* Dummy read 3           */
    SPISendRecvByte(0);                               /* Dummy read 4           */
    SPISendRecvByte(0);                               /* Dummy read 5           */

    value = (SPISendRecvByte(0) << 8);                /* Read D8..D15           */
    value |= SPISendRecvByte(0);                      /* Read D0..D7            */

    SPI_CS_LCD_HIGH;
    return value;
}

/*******************************************************************************
 * Function Name  : LCD_ReadPixelColor
 * Description    : Reads color from designated pixel
 * Input          : x and y coordinate
 * Output         : None
 * Return         : Pixel color
 * Attention      : None
 *******************************************************************************/
uint16_t LCD_ReadPixelColor(uint16_t x, uint16_t y)
{
    LCD_SetCursor(x, y);
    LCD_WriteIndex(GRAM);
    return LCD_ReadData();
}


/*******************************************************************************
 * Function Name  : LCD_WriteReg
 * Description    : Writes to the selected LCD register.
 * Input          : - LCD_Reg: address of the selected register.
 *                  - LCD_RegValue: value to write to the selected register.
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_WriteReg(uint16_t LCD_Reg, uint16_t LCD_RegValue)
{

    /* Write 16-bit Index */
    LCD_WriteIndex(LCD_Reg);

    /* Write 16-bit Reg Data */
    LCD_WriteData(LCD_RegValue);

}

/*******************************************************************************
 * Function Name  : LCD_SetCursor
 * Description    : Sets the cursor position.
 * Input          : - Xpos: specifies the X position.
 *                  - Ypos: specifies the Y position.
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
inline void LCD_SetCursor(uint16_t Xpos, uint16_t Ypos )
{
    /* Should just be two LCD_WriteReg to appropriate registers */ 

    /* Set horizonal GRAM coordinate (Ypos) */ 
    LCD_WriteReg(HORIZONTAL_GRAM_SET, Ypos);

    /* Set vertical GRAM coordinate (Xpos) */
    LCD_WriteReg(VERTICAL_GRAM_SET, Xpos);

}

/*******************************************************************************
 * Function Name  : LCD_Init
 * Description    : Configures LCD Control lines, sets whole screen black
 * Input          : bool usingTP: determines whether or not to enable TP interrupt 
 * Output         : None
 * Return         : None
 * Attention      : None
 *******************************************************************************/
void LCD_Init(bool usingTP)
{
    LCD_initSPI();

    if (usingTP)
    {
        /* Configure low true interrupt on P4.0 for TP */ 
        P4->SEL0 &= ~BIT0 ;
        P4->SEL1 &= ~BIT0 ;
        P4->DIR &= ~BIT0 ;
        P4->IES |= BIT0 ;
        P4->IE |= BIT0 ;

        //NVIC_EnableIRQ(PORT4_IRQn);

    }
    LCD_reset();

    LCD_WriteReg(0xE5, 0x78F0); /* set SRAM internal timing */
    LCD_WriteReg(DRIVER_OUTPUT_CONTROL, 0x0100); /* set Driver Output Control */
    LCD_WriteReg(DRIVING_WAVE_CONTROL, 0x0700); /* set 1 line inversion */
    LCD_WriteReg(ENTRY_MODE, 0x1038); /* set GRAM write direction and BGR=1 */
    LCD_WriteReg(RESIZING_CONTROL, 0x0000); /* Resize register */
    LCD_WriteReg(DISPLAY_CONTROL_2, 0x0207); /* set the back porch and front porch */
    LCD_WriteReg(DISPLAY_CONTROL_3, 0x0000); /* set non-display area refresh cycle ISC[3:0] */
    LCD_WriteReg(DISPLAY_CONTROL_4, 0x0000); /* FMARK function */
    LCD_WriteReg(RGB_DISPLAY_INTERFACE_CONTROL_1, 0x0000); /* RGB interface setting */
    LCD_WriteReg(FRAME_MARKER_POSITION, 0x0000); /* Frame marker Position */
    LCD_WriteReg(RGB_DISPLAY_INTERFACE_CONTROL_2, 0x0000); /* RGB interface polarity */

    /* Power On sequence */
    LCD_WriteReg(POWER_CONTROL_1, 0x0000); /* SAP, BT[3:0], AP, DSTB, SLP, STB */
    LCD_WriteReg(POWER_CONTROL_2, 0x0007); /* DC1[2:0], DC0[2:0], VC[2:0] */
    LCD_WriteReg(POWER_CONTROL_3, 0x0000); /* VREG1OUT voltage */
    LCD_WriteReg(POWER_CONTROL_4, 0x0000); /* VDV[4:0] for VCOM amplitude */
    LCD_WriteReg(DISPLAY_CONTROL_1, 0x0001);
    Delay(200);

    /* Dis-charge capacitor power voltage */
    LCD_WriteReg(POWER_CONTROL_1, 0x1090); /* SAP, BT[3:0], AP, DSTB, SLP, STB */
    LCD_WriteReg(POWER_CONTROL_2, 0x0227); /* Set DC1[2:0], DC0[2:0], VC[2:0] */
    Delay(50); /* Delay 50ms */
    LCD_WriteReg(POWER_CONTROL_3, 0x001F);
    Delay(50); /* Delay 50ms */
    LCD_WriteReg(POWER_CONTROL_4, 0x1500); /* VDV[4:0] for VCOM amplitude */
    LCD_WriteReg(POWER_CONTROL_7, 0x0027); /* 04 VCM[5:0] for VCOMH */
    LCD_WriteReg(FRAME_RATE_AND_COLOR_CONTROL, 0x000D); /* Set Frame Rate */
    Delay(50); /* Delay 50ms */
    LCD_WriteReg(GRAM_HORIZONTAL_ADDRESS_SET, 0x0000); /* GRAM horizontal Address */
    LCD_WriteReg(GRAM_VERTICAL_ADDRESS_SET, 0x0000); /* GRAM Vertical Address */

    /* Adjust the Gamma Curve */
    LCD_WriteReg(GAMMA_CONTROL_1,    0x0000);
    LCD_WriteReg(GAMMA_CONTROL_2,    0x0707);
    LCD_WriteReg(GAMMA_CONTROL_3,    0x0307);
    LCD_WriteReg(GAMMA_CONTROL_4,    0x0200);
    LCD_WriteReg(GAMMA_CONTROL_5,    0x0008);
    LCD_WriteReg(GAMMA_CONTROL_6,    0x0004);
    LCD_WriteReg(GAMMA_CONTROL_7,    0x0000);
    LCD_WriteReg(GAMMA_CONTROL_8,    0x0707);
    LCD_WriteReg(GAMMA_CONTROL_9,    0x0002);
    LCD_WriteReg(GAMMA_CONTROL_10,   0x1D04);

    /* Set GRAM area */
    LCD_WriteReg(HOR_ADDR_START_POS, 0x0000);     /* Horizontal GRAM Start Address */
    LCD_WriteReg(HOR_ADDR_END_POS, (MAX_SCREEN_Y - 1));  /* Horizontal GRAM End Address */
    LCD_WriteReg(VERT_ADDR_START_POS, 0x0000);    /* Vertical GRAM Start Address */
    LCD_WriteReg(VERT_ADDR_END_POS, (MAX_SCREEN_X - 1)); /* Vertical GRAM Start Address */
    LCD_WriteReg(GATE_SCAN_CONTROL_0X60, 0x2700); /* Gate Scan Line */
    LCD_WriteReg(GATE_SCAN_CONTROL_0X61, 0x0001); /* NDL,VLE, REV */
    LCD_WriteReg(GATE_SCAN_CONTROL_0X6A, 0x0000); /* set scrolling line */

    /* Partial Display Control */
    LCD_WriteReg(PART_IMAGE_1_DISPLAY_POS, 0x0000);
    LCD_WriteReg(PART_IMG_1_START_END_ADDR_0x81, 0x0000);
    LCD_WriteReg(PART_IMG_1_START_END_ADDR_0x82, 0x0000);
    LCD_WriteReg(PART_IMAGE_2_DISPLAY_POS, 0x0000);
    LCD_WriteReg(PART_IMG_2_START_END_ADDR_0x84, 0x0000);
    LCD_WriteReg(PART_IMG_2_START_END_ADDR_0x85, 0x0000);

    /* Panel Control */
    LCD_WriteReg(PANEL_ITERFACE_CONTROL_1, 0x0010);
    LCD_WriteReg(PANEL_ITERFACE_CONTROL_2, 0x0600);
    LCD_WriteReg(DISPLAY_CONTROL_1, 0x0133); /* 262K color and display ON */
    Delay(50); /* delay 50 ms */

    uint16_t test = LCD_ReadReg(PANEL_ITERFACE_CONTROL_2);

    LCD_Clear(LCD_BLACK);
}

/*******************************************************************************
 * Function Name  : TP_ReadXY
 * Description    : Obtain X and Y touch coordinates
 * Input          : None
 * Output         : None
 * Return         : Pointer to "Point" structure
 * Attention      : None
 *******************************************************************************/
Point TP_ReadXY()
{
    Point point;                                            // struct of type Point

    point.x = TP_ReadX();                                   // Get the X coordinate
    
    point.y = TP_ReadY();                                   // Get the y coordinate

    /*      DEBUGGING       */
    /*
    BackChannelPrintIntVariable("PX = ", point.x);
    BackChannelPrintIntVariable("PY = ", point.y);
    */

    /* Return point  */
    return point;

}

/*******************************************************************************
 * Function Name  : TP_ReadADC
 * Description    : Obtain ADC values from Touchpad
 * Input          : uin16_t channel
 * Output         : None
 * Return         : ADC value for corresponding value
 * Attention      : None
 *******************************************************************************/
static uint16_t TP_ReadADC(uint16_t channel)
{
    uint16_t val;
    
    SPI_CS_TP_LOW;                                  // Start transmission

    SPISendRecvByte(channel);                       // Send start bit and channel bits
    val = (SPISendRecvByte(0) << 5);                // Get high 7 bits and shift
    val |= (SPISendRecvByte(0) >> 3);               // Get low 5 bits and shift

    SPI_CS_TP_HIGH;

    return val;
}


/*******************************************************************************
 * Function Name  : TP_ReadX
 * Description    : Obtain X touch coordinate
 * Input          : None
 * Output         : None
 * Return         : X Coordinate
 * Attention      : None
 *******************************************************************************/
uint16_t TP_ReadX()
{
    return (TP_ReadADC(CHX)*MAX_SCREEN_X)>>12;      // Get touched coordinate from ADC value
}

/*******************************************************************************
 * Function Name  : TP_ReadY
 * Description    : Obtain Y touch coordinate
 * Input          : None
 * Output         : None
 * Return         : Y Coordinate
 * Attention      : None
 *******************************************************************************/
uint16_t TP_ReadY()
{
    return (TP_ReadADC(CHY)*MAX_SCREEN_Y)>>12;      // Get touched coordinate from ADC value
}
/************************************  Public Functions  *******************************************/

